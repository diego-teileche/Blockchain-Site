---
import Card from "@components/Card"
import InteriorContent from "@components/InteriorContent.astro"
import InteriorHero from "@components/InteriorHero.astro"
import Tag from "@components/Tag"
import DefaultLayout from "@layouts/Default.astro"
import {
	getColorFromPositionCategory,
	getColorFromPositionType,
} from "@utils/postUtils"
import { getCollection, type CollectionEntry } from "astro:content"

const positions = await getCollection("positions")

type Props = CollectionEntry<"positions">
---

<DefaultLayout>
	<InteriorHero>
		<p
			class="text-center font-extrabold uppercase tracking-wider text-zinc-500"
		>
			Join the team
		</p>
		<h1
			class="mt-4 text-center font-heading text-5xl font-black md:text-6xl lg:text-7xl"
		>
			We are hiring
		</h1>
		<p
			class="mx-auto mt-6 max-w-xl text-center text-xl text-zinc-400 md:text-2xl"
		>
			We are always looking for talented individuals passionate about building
			blockchain products that make a difference
		</p>
	</InteriorHero>

	<InteriorContent>
		<div class="pb-[1000px]">
			{
				positions.map(
					({ data: { title, type, description, category, remote } }: Props) => (
						<Card color={getColorFromPositionCategory(category)}>
							<div>
								{remote && <Tag>Remote</Tag>}
								<Tag color={getColorFromPositionType(type)}>{type}</Tag>
							</div>

							<h2>{title}</h2>
							<p>{description}</p>
						</Card>
					)
				)
			}
		</div>
	</InteriorContent>
</DefaultLayout>
